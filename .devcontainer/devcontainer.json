{
    "name": "AFJ Cardiff Dev Container",
    "image": "mcr.microsoft.com/vscode/devcontainers/php:0-8.2",
    "build": {
        "dockerfile": "Dockerfile",
        "context": ".."
    },
    "settings": {
        "terminal.integrated.shell.linux": "/bin/bash"
    },
    "extensions": [
        "ms-azuretools.vscode-docker",
        "ms-vscode.vscode-node-azure-pack",
        "ms-vscode-remote.remote-containers"
    ],
    "forwardPorts": [8000, 3306, 8080, 8081],
    "postStartCommand": "live-server --port=8080 --host=0.0.0.0",
    "postCreateCommand": [
        "php -r \"require 'src/Validator.php'; Validator::validateProjectStructure();\"",
        "rm -f /workspace/afjcardiff/.env",
        "composer install"
    ]
}
